<!DOCTYPE html>
<html lang="en">
<head>
    <title>Essential JS 2 for Badge </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Essential JS 2 for Badge UI Control" />
    <meta name="author" content="Syncfusion" />
    <link href="index.css" rel="stylesheet" />
    <link href="//cdn.syncfusion.com/ej2/ej2-base/styles/material.css" rel="stylesheet" />
    <link href="//cdn.syncfusion.com/ej2/ej2-notifications/styles/material.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.38/system.js"></script>
    <script src="systemjs.config.js"></script>
</head>
<!-- Image -->
<div class="row">
  <div class="col-md-8">
    <%= image_tag @room.cover_photo(nil), width:"1000px", height:"700px" %>
  </div>
  <div class="col-md-4">
    <%= image_tag @room.other_photo1(nil), width:"500px", height:"350px" %>
    <%= image_tag @room.other_photo2(nil), width:"500px", height:"350px" %>
  </div>
</div>
<br/>

<div class="row">
  <div class="col-md-4">
    <%= render 'reservations/form' %>
  </div>
  <div class="col-md-8">
    <div class="row">
      <div class="col-md-8">
        <div class="amenities">
          <div class="<%= 'text-square' if @room.plus == 0 %> e-badge e-badge-primary red size_3">Plus</div>
          <div class="<%= 'text-square' if @room.primary_host_is_superhost == 0 %> e-badge e-badge-primary e-badge-pill size_3">Superhost</div>
        </div>
        <h3><%= @room.listing_name %></h3>
        Zipcode: <%= @room.address %>
      </div>
      <div class="col-md-4 text-center">
        <%= @room.user.fullname %>
      </div>
    </div>
    <hr/>

    <!-- Room Info -->
    <div class="row text-babu">
      <div class="row text-center row-space-1">
        <div class="col-md-3">
          <i class="fa fa-user-circle-o fa-2x"></i>
        </div>
        <div class="col-md-3">
          <i class="fa fa-bed fa-2x"></i>
        </div>
        <div class="col-md-3">
          <i class="fa fa-bed fa-2x"></i>
        </div>
        <div class="col-md-3">
          <i class="fa fa-bath fa-2x"></i>
        </div>
      </div>

      <div class="row text-center">
        <div class="col-md-3"><%= pluralize(@room.accommodate, "guest") %></div>
        <div class="col-md-3"><%= pluralize(@room.bed_room, "bedroom") %></div>
        <div class="col-md-3"><%= pluralize(@room.bed, "bed") %></div>
        <div class="col-md-3"><%= pluralize(@room.bath_room, "bathroom") %></div>
      </div>

    </div>
    <hr/>

    <!-- About -->
    <div class="row">
      <div class="col-md-12">
        <h4>The space</h4>
        <p><%= @room.description %></p>
        <h4>Transit</h4>
        <p><%= @room.transit %></p>
        <h4>Neighborhood overview</h4>
        <p><%= @room.neighborhood_overview %></p>
        <h4>House rules</h4>
        <p><%= @room.house_rules %></p>
      </div>
    </div>
    <hr/>

    <!-- Amenities -->
    <div class="row">
      <div class="col-md-3">
        <h4>Amenities</h4>
      </div>

      <div class="col-md-9">
        <div class="row">
          <div class="col-md-4">
            <ul class="amenities">
              <li class="<%= 'text-line-through' if !@room.is_wifi %>">Wifi or internet</li>
              <li class="<%= 'text-line-through' if !@room.is_tv %>">TV</li>
              <li class="<%= 'text-line-through' if !@room.is_dryer %>">Dryer</li>
            </ul>
          </div>
          <div class="col-md-4">
            <ul class="amenities">
              <li class="<%= 'text-line-through' if !@room.is_heating %>">Heating</li>
              <li class="<%= 'text-line-through' if @room.is_kitchen == "0" %>">Kitchen</li>
              <li class="<%= 'text-line-through' if !@room.is_co %>">Carbon monoxide detector</li>
            </ul>
          </div>
          <div class="col-md-4">
            <ul class="amenities">
              <li class="<%= 'text-line-through' if @room.is_parking == "0" %>">Parking</li>
              <li class="<%= 'text-line-through' if @room.is_elevator == "0" %>">Elevator</li>
            </ul>
          </div>

        </div>
      </div>

    </div>
    <hr/>

    <!-- REVIEWS -->
    <div class="row">
      <div class="col-md-12">
        <h4>
          Reviews
          <span class="pull-right"><i class="fa fa-star" style="color:red" aria-hidden="true"></i> <%= @room.star_rating %> (<%= @room.reviews_count %> reviews)</span>
        </h4>
        <%= paginate @reviews.page(params[:page]) %>
        <div class="container">
          <div><%= render "rooms/room_reviews" %></div>
        </div>
      </div>
    </div>
    <br/>
    <hr/>

    <!-- GOOGLE MAP -->
    <div class="row">
      <div class="col-md-12">
        <h4>The neighborhood</h4>
      </div>

      <div id="map" style="width: 100%; height: 400px"></div>

      <script src="https://maps.googleapis.com/maps/api/js"></script>
      <script>
          function initialize() {
            var location = {lat: <%= @room.latitude %>, lng: <%= @room.longitude %>};
            var map = new google.maps.Map(document.getElementById('map'), {
              center: location,
              zoom: 14
            });

            var marker = new google.maps.Marker({
              position: location,
              map: map
            });

            infoWindow.open(map, marker);
          }

          google.maps.event.addDomListener(window, 'load', initialize);
      </script>
    </div>
    <br/>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $("#lightSlider").lightSlider();
  });
</script>
